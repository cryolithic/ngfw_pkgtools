git_base_url: git@github.com:untangle

repositories:
  # NGFW only
  ngfw_upstream:
    private: true
    products:
      ngfw:
  ngfw_kernels:
    products:
      ngfw:
  ngfw_pkgs:
    products:
      ngfw:
  ngfw_src:
    products:
      ngfw:
  ngfw_vendor-pkgs:
    private: true
    products:
      ngfw:
  debian-cloud-images:
    products:
      ngfw:

  # MFW only
  bpfgen:
    products:
      mfw:
  mfw_admin:
    private: true
    products:
      mfw:
  mfw_build:
    versioned_resources_on_release_branch:
      feeds.conf.mfw:
        regex: 'mfw_feeds.git.*'
        replacement: 'mfw_feeds.git;{branch}'
    disable_forward_merge: true
    products:
      mfw:
  mfw_feeds:
    products:
      mfw:
  mfw_schema:
    products:
      mfw:
  mfw_ui:
    private: true
    products:
      mfw:
  nft_dict:
    private: true
    products:
      mfw:
  openwrt:
    disable_branch_creation: true
    disable_forward_merge: true
    products:
      mfw:
  packetd:
    private: true
    products:
      mfw:
  reportd:
    private: true
    products:
      mfw:
  restd:
    private: true
    products:
      mfw:

  # WAF only
  waf:
    private: true
    products:
      waf:
  waf_pkgs:
    private: true
    products:
      waf:
  waf_ui:
    private: true
    products:
      waf:

  # used in multiple products
  client-license-service:
    private: true
    products:
      mfw:
      waf:
  bctid:
    private: true
    products:
      mfw:
      ngfw:
  classd:
    private: true
    products:
      mfw:
      ngfw:
  ngfw_hades-pkgs:
    private: true
    products:
      mfw:
      ngfw:
  ngfw_imgtools:
    products:
      ngfw:
      waf:
  ngfw_pkgtools:
    disable_forward_merge: true
    versioned_resources_on_release_branch:
      resources/DISTRIBUTION:
        regex: '.+'
        replacement: '{branch}'
    versioned_resources_on_master_branch:
      resources/VERSION:
        regex: '.+'
        replacement: '{version}.0'
      resources/PUBVERSION:
        regex: '.+'
        replacement: '{version}'
    products:
      mfw:
        disable_branch_creation: true
      ngfw:
      waf:
        default_branch: waf-master
  runtests:
    products:
      mfw:
      ngfw:
  support-diagnostics:
    products:
      mfw:
      ngfw:
  sync-settings:
    private: true
    products:
      mfw:
      ngfw:
      waf:
